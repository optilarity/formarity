(()=>{"use strict";var e,s={945:()=>{const e=window.wp.blocks,s=window.wp.i18n,t=window.wp.components,a=window.wp.blockEditor,o=window.wp.data,r=window.wp.coreData,l=window.ReactJSXRuntime,n=[{attributes:{text:{type:"string"},messageType:{type:"string",default:"success"},displayType:{type:"string",default:"notice"}},save({attributes:e}){const s=a.useBlockProps.save();return(0,l.jsxs)("div",{...s,"data-wp-class--success":"context.response.success","data-wp-class--error":"!context.response.success","data-wp-interactive":"formello","data-wp-context":JSON.stringify({}),children:[(0,l.jsx)("p",{"data-wp-text":"state.message"}),(0,l.jsx)("ul",{"data-wp-context":"state.errors",children:(0,l.jsx)("template",{"data-wp-each":"state.errors",children:(0,l.jsx)("li",{"data-wp-text":"context.item"})})})]})}},{save({attributes:e}){const s=a.useBlockProps.save();return(0,l.jsxs)("div",{...s,"data-wp-class--success":"context.response.success","data-wp-class--error":"!context.response.success","data-wp-interactive":"formello","data-wp-bind--hidden":"!context.response",children:[(0,l.jsx)("p",{"data-wp-bind--hidden":"!context.response.success"}),(0,l.jsx)("p",{"data-wp-text":"state.message","data-wp-bind--hidden":"context.response.success"}),(0,l.jsx)("ul",{"data-wp-context":"state.errors",children:(0,l.jsx)("template",{"data-wp-each":"state.errors",children:(0,l.jsx)("li",{"data-wp-text":"context.item"})})})]})}}],c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"formello/message","title":"Message","description":"Message for form submissions.","category":"formello","ancestor":["formello/form"],"icon":"megaphone","textdomain":"formello","attributes":{"text":{"type":"string"},"messageType":{"type":"string","default":"success"},"displayType":{"type":"string","default":"notice"}},"supports":{"interactivity":true,"html":false,"lock":true,"reusable":false,"inserter":true,"color":{"background":true,"text":true},"spacing":{"padding":true,"margin":["top","bottom"]},"__experimentalBorder":{"radius":true,"width":true,"color":true,"style":true},"typography":{"fontSize":true}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,e.registerBlockType)(c,{supports:{...c.supports,multiple:"formello_form"!==window.pagenow},edit:function({attributes:e,clientId:n,setAttributes:c}){const i=(0,a.useBlockProps)({className:`${e.messageType} ${e.displayType}`}),{hasInnerBlocks:p}=(0,o.useSelect)((e=>{const{getBlock:s}=e(a.store),t=s(n);return{hasInnerBlocks:!(!t||!t.innerBlocks.length)}}),[n]),{children:d,...u}=(0,a.useInnerBlocksProps)(i,{templateLock:!1,renderAppender:p?null:a.InnerBlocks.DefaultBlockAppender}),[m]=(0,r.useEntityProp)("root","site","formello");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.InspectorControls,{children:(0,l.jsxs)(t.PanelBody,{title:(0,s.__)("Message Settings","formello"),children:[(0,l.jsx)(t.SelectControl,{label:(0,s.__)("Display Type","formello"),value:e.displayType,options:[{label:(0,s.__)("Notice Message","formello"),value:"notice"},{label:(0,s.__)("Modal Popup","formello"),value:"modal"}],onChange:e=>c({displayType:e})}),(0,l.jsx)(t.SelectControl,{label:(0,s.__)("Message Type","formello"),value:e.messageType,options:[{label:(0,s.__)("Success","formello"),value:"success"},{label:(0,s.__)("Error","formello"),value:"error"},{label:(0,s.__)("Warning","formello"),value:"warning"},{label:(0,s.__)("Info","formello"),value:"info"}],onChange:e=>c({messageType:e})})]})}),(0,l.jsxs)("div",{...u,children:[(0,l.jsx)(a.RichText,{tagName:"p",value:e.text,onChange:e=>c({text:e}),placeholder:m?.messages.form.success}),d]})]})},save:function({attributes:e}){const s=a.useBlockProps.save({className:`wp-block-formello-message ${e.messageType||"success"} ${e.displayType||"notice"}`});return"modal"===e.displayType?(0,l.jsxs)("div",{...s,"data-wp-interactive":"formello","data-wp-context":JSON.stringify({successMessage:e.text,messageType:e.messageType,displayType:e.displayType}),"data-wp-bind--hidden":"!context.response",children:[(0,l.jsx)("div",{className:"modal-overlay","data-wp-bind--hidden":"!context.response",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("button",{className:"modal-close","data-wp-on--click":"actions.closeModal",children:"×"}),(0,l.jsxs)("div",{className:"modal-icon",children:["success"===e.messageType&&"✓","error"===e.messageType&&"✕","warning"===e.messageType&&"⚠","info"===e.messageType&&"ℹ"]}),(0,l.jsx)(a.RichText.Content,{tagName:"p",value:e.text,"data-wp-text":"state.message"}),(0,l.jsx)("ul",{"data-wp-context":"state.errors","data-wp-bind--hidden":"context.response.success",children:(0,l.jsx)("template",{"data-wp-each":"state.errors",children:(0,l.jsx)("li",{"data-wp-text":"context.item"})})}),(0,l.jsx)("button",{className:"modal-ok","data-wp-on--click":"actions.closeModal",children:"OK"})]})}),(0,l.jsx)(a.InnerBlocks.Content,{})]}):(0,l.jsxs)("div",{...s,"data-wp-class--success":"context.response.success","data-wp-class--error":"!context.response.success","data-wp-interactive":"formello","data-wp-context":JSON.stringify({successMessage:e.text,messageType:e.messageType,displayType:e.displayType}),children:[(0,l.jsx)(a.RichText.Content,{tagName:"p",value:e.text,"data-wp-text":"state.message"}),(0,l.jsx)("ul",{"data-wp-context":"state.errors",children:(0,l.jsx)("template",{"data-wp-each":"state.errors",children:(0,l.jsx)("li",{"data-wp-text":"context.item"})})}),(0,l.jsx)(a.InnerBlocks.Content,{})]})},deprecated:n})}},t={};function a(e){var o=t[e];if(void 0!==o)return o.exports;var r=t[e]={exports:{}};return s[e](r,r.exports,a),r.exports}a.m=s,e=[],a.O=(s,t,o,r)=>{if(!t){var l=1/0;for(p=0;p<e.length;p++){for(var[t,o,r]=e[p],n=!0,c=0;c<t.length;c++)(!1&r||l>=r)&&Object.keys(a.O).every((e=>a.O[e](t[c])))?t.splice(c--,1):(n=!1,r<l&&(l=r));if(n){e.splice(p--,1);var i=o();void 0!==i&&(s=i)}}return s}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[t,o,r]},a.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={696:0,40:0};a.O.j=s=>0===e[s];var s=(s,t)=>{var o,r,[l,n,c]=t,i=0;if(l.some((s=>0!==e[s]))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(c)var p=c(a)}for(s&&s(t);i<l.length;i++)r=l[i],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(p)},t=globalThis.webpackChunkformello=globalThis.webpackChunkformello||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var o=a.O(void 0,[40],(()=>a(945)));o=a.O(o)})();